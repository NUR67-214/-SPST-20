<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î (SPST-20) | Stress Check</title>
<meta name="description" content="‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢ SPST-20 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à" />
<style>
:root{
--bg:#e3f0fc;
--card:#ffffff;
--ink:#111827;
--muted:#6b7280;
--brand:#2563eb;
--brand-ink:#fff;
--ok:#16a34a;
--warn:#f59e0b;
--bad:#dc2626;
--ring: 0 0 0 3px rgba(37,99,235,.25);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,TH Sarabun New,Leelawadee,K2D,sans-serif;background:var(--bg);color:var(--ink);}
.wrap{max-width:980px;margin:0 auto;padding:24px}
header{display:flex;align-items:center;gap:16px;margin-bottom:16px}
.logo-img{width:56px;height:56px;border-radius:16px;background:#fff;display:grid;place-items:center;}
.logo-img img{width:48px;height:48px;display:block;}
h1{font-size:clamp(20px,3vw,28px);margin:0}
.card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.04);}
.stage{padding:24px}
.muted{color:var(--muted)}
.btns{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}
button,.btn{appearance:none;border:0;padding:12px 16px;border-radius:12px;cursor:pointer;font-weight:600}
.primary{background:var(--brand);color:var(--brand-ink)}
.ghost{background:#eef2ff;color:#1e3a8a}
.subtle{background:#f3f4f6}
button:focus-visible{outline:none;box-shadow:var(--ring)}
.progress{height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden;margin:16px 24px}
.bar{height:100%;width:0;background:linear-gradient(90deg,#60a5fa,#2563eb);transition:width .4s ease}
.grid{display:grid;gap:16px}
@media(min-width:720px){ .grid-2{grid-template-columns:1fr 1fr} }
.pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef2ff;color:#3730a3;font-size:12px}
.q{padding:12px 14px;border:1px solid #e5e7eb;border-radius:12px}
.q h4{margin:0 0 8px 0;font-size:16px}
.scale{display:flex;gap:10px;flex-wrap:wrap}
.scale label{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border:1px solid #e5e7eb;border-radius:10px;cursor:pointer}
input[type="radio"]{accent-color:#2563eb}
.result{padding:14px;border-radius:12px;border:1px dashed #d1d5db;background:#f9fafb}
.chipset{display:flex;gap:12px;flex-wrap:wrap}
.chip{width:140px;aspect-ratio:1/1;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;border:2px solid #e5e7eb;background:#fff;cursor:pointer;text-align:center;padding:12px}
.chip:focus-visible{outline:none;box-shadow:var(--ring)}
.chip svg{width:28px;height:28px;margin-bottom:8px}
.circle-breathe{width:220px;height:220px;border-radius:50%;border:6px solid #93c5fd;margin:20px auto;display:grid;place-items:center;transition:transform 4s ease}
.label-center{text-align:center;font-weight:600}
.stars{display:flex;gap:6px;font-size:28px;cursor:pointer}
.stars button{background:transparent;font-size:28px;line-height:1}
.hide{display:none !important}
.note{color:var(--bad);background:#fff0f0;padding:10px 16px;border-radius:8px;margin-bottom:12px;}
footer{margin-top:24px;font-size:12px}
.tag-ok{color:var(--ok)} .tag-warn{color:var(--warn)} .tag-bad{color:var(--bad)}
</style>
</head>
<body>
<div class="wrap">
<header aria-label="‡∏´‡∏±‡∏ß‡πÄ‡∏ß‡πá‡∏ö">
<div class="logo-img">
<img src="stress-logo.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï" />
</div>
<div>
<h1>‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î (SPST-20) ‚Ä¢ Stress Check</h1>
<div class="muted">‡∏£‡∏π‡πâ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</div>
</div>
</header>

<div class="card">
<div class="progress"><div id="bar" class="bar"></div></div>

<!-- Stage ‡∏ï‡πà‡∏≤‡∏á‡πÜ (1‚Äì8) ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô -->
<!-- ... (‡∏Ç‡πâ‡∏≤‡∏° HTML stage ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç) ... -->

<!-- Stage 5: Show chosen method -->
<section class="stage hide" data-step="5">
<p class="pill">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</p>
<div id="methodPane"></div>
<div class="btns">
<button class="subtle" data-nav="back">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
<button class="primary" data-nav="next">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
</div>
</section>

<!-- Stage 8 -->
<section class="stage hide" data-step="8">
<p class="pill">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</p>
<h2>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô üíô</h2>
<p class="muted">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠</p>
<div id="summaryOut" class="result"></div>
<div class="btns">
<button class="ghost" id="restart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
</div>
</section>
</div>

<script>
// ---------- state, navigation, question setup (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ----------
// ... (‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î) ...

// ---------- Step 5: render chosen method ----------
const methodPane = document.getElementById('methodPane');
function renderMethod(){
const c = state.choice;
methodPane.innerHTML = ""; // ‚úÖ ‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô render

if(!c){ methodPane.innerHTML = "<p class='muted'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ</p>"; return; }

if (c !== 'crisis') {
methodPane.innerHTML += `
<div class="result" style="color:var(--ok);background:#f0fff0;border:1px solid #bef5c2;margin-bottom:12px;">
‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å
</div>
`;
}

if(c==='music'){
methodPane.innerHTML += `
<h3>‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)</h3>
<p class="muted">‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏û‡∏•‡∏¢‡πå‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö (‡πÄ‡∏ä‡πà‡∏ô YouTube/Spotify) ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ</p>
<audio controls style="width:100%">
<source src="" type="audio/mp3" />
‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
</audio>
<div class="result" style="margin-top:12px">
‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡πâ‡∏≤-‡∏Å‡∏•‡∏≤‡∏á, ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏ä‡πâ‡∏≤‡∏•‡∏á
</div>
`;
}

if(c==='breath'){
methodPane.innerHTML += `
<h3>‡∏ù‡∏∂‡∏Å‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÅ‡∏ö‡∏ö 4-4-6</h3>
<div class="circle-breathe" id="breathCircle"><div class="label-center" id="breathLabel">‡∏û‡∏£‡πâ‡∏≠‡∏°‚Ä¶</div></div>
<div class="label-center">‡∏£‡∏≠‡∏ö‡∏•‡∏∞ ~14 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Ä¢ ‡∏•‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6‚Äì10 ‡∏£‡∏≠‡∏ö</div>
<div class="btns" style="justify-content:center">
<button class="ghost" id="breathStart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ù‡∏∂‡∏Å</button>
<button class="subtle" id="breathStop">‡∏´‡∏¢‡∏∏‡∏î</button>
</div>
`;
setupBreathing();
}

if(c==='game'){
methodPane.innerHTML += `
<h3>‡πÄ‡∏Å‡∏°‡∏à‡∏¥‡πã‡∏ß‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏™‡∏≤‡∏¢‡∏ï‡∏≤</h3>
<p class="muted">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ô 20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>
<div id="gameArea" style="position:relative;height:260px;border:1px solid #e5e7eb;border-radius:12px;margin-top:8px;background:#fff"></div>
<div class="btns"><button class="ghost" id="gameStart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button><span id="gameInfo" class="muted"></span></div>
`;
setupGame();
}

if(c==='video'){
methodPane.innerHTML += `
<h3>‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢</h3>
<div style="position:relative;padding-top:56.25%;border-radius:12px;overflow:hidden;border:1px solid #e5e7eb">
<iframe title="relax-video" src="" allowfullscreen style="position:absolute;inset:0;width:100%;height:100%;border:0"></iframe>
</div>
`;
}

if(c==='crisis'){
methodPane.innerHTML = `
<h3>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</h3>
<div class="result">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡∏î‡πà‡∏ß‡∏ô 1323 ‡∏´‡∏£‡∏∑‡∏≠ 1669</div>
`;
}
}

// setupBreathing(), setupGame() (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô) ...

// Observer step 5
const observer = new MutationObserver(()=>{
if (!document.querySelector('[data-step="5"]').classList.contains('hide')) {
renderMethod();
}
});
observer.observe(document.body, {subtree:true, attributes:true, attributeFilter:['class']});

// ... (‡πÇ‡∏Ñ‡πâ‡∏î Step 6‚Äì8 ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...
</script>
</body>
</html>
